@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --radius: 0.625rem;
    --background: oklch(1 0 0);
    --foreground: oklch(0.141 0.005 285.823);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.141 0.005 285.823);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.141 0.005 285.823);
    --primary: oklch(0.21 0.006 285.885);
    --primary-foreground: oklch(0.985 0 0);
    --secondary: oklch(0.967 0.001 286.375);
    --secondary-foreground: oklch(0.21 0.006 285.885);
    --muted: oklch(0.967 0.001 286.375);
    --muted-foreground: oklch(0.552 0.016 285.938);
    --accent: oklch(0.967 0.001 286.375);
    --accent-foreground: oklch(0.21 0.006 285.885);
    --destructive: oklch(0.637 0.237 25.331);
    --destructive-foreground: oklch(0.637 0.237 25.331);
    --border: oklch(0.92 0.004 286.32);
    --input: oklch(0.871 0.006 286.286);
    --ring: oklch(0.871 0.006 286.286);
    --chart-1: oklch(0.646 0.222 41.116);
    --chart-2: oklch(0.6 0.118 184.704);
    --chart-3: oklch(0.398 0.07 227.392);
    --chart-4: oklch(0.828 0.189 84.429);
    --chart-5: oklch(0.769 0.188 70.08);
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.141 0.005 285.823);
    --sidebar-primary: oklch(0.21 0.006 285.885);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.967 0.001 286.375);
    --sidebar-accent-foreground: oklch(0.21 0.006 285.885);
    --sidebar-border: oklch(0.92 0.004 286.32);
    --sidebar-ring: oklch(0.871 0.006 286.286);
  }

  .dark {
    --background: #0A0A0B;
    --foreground: #FAFAFA;
    --card: #0A0A0B;
    --card-foreground: #FAFAFA;
    --popover: #0A0A0B;
    --popover-foreground: #FAFAFA;
    --primary: #FAFAFA;
    --primary-foreground: #0A0A0B;
    --secondary: #27272A;
    --secondary-foreground: #FAFAFA;
    --muted: #0A0A0B;
    --muted-foreground: #A1A1AA;
    --accent: #0A0A0B;
    --accent-foreground: #FAFAFA;
    --destructive: #EF4444;
    --destructive-foreground: #FAFAFA;
    --border: #27272A;
    --input: #27272A;
    --ring: #71717A;
    --chart-1: #8B5CF6;
    --chart-2: #10B981;
    --chart-3: #F59E0B;
    --chart-4: #EF4444;
    --chart-5: #06B6D4;
    --sidebar: #0F0F0F;
    --sidebar-foreground: #FAFAFA;
    --sidebar-primary: #8B5CF6;
    --sidebar-primary-foreground: #FAFAFA;
    --sidebar-accent: #18181B;
    --sidebar-accent-foreground: #FAFAFA;
    --sidebar-border: #27272A;
    --sidebar-ring: #71717A;
  }

  * {
    @apply border-border;
    font-weight: 400;
  }

  h1, h2, h3, h4, h5, h6, strong, b {
    font-weight: 500; /* Maximum boldness is medium */
  }

  body {
    @apply bg-trading-bg text-foreground font-sans;
  }

  html {
    color-scheme: dark;
    scroll-behavior: smooth;
  }

  /* Custom text selection color    */
  *::selection {
    background-color: #042F2E !important;
    color: #2DD4BF !important;
  }

  *::-moz-selection {
    background-color: #042F2E !important;
    color: #0A5F5C !important;
  }
  
  /* Custom classes */
  .trade-profit {
    @apply text-positive font-medium;
  }
  
  .trade-loss {
    @apply text-negative font-medium;
  }

  /* New modernized UI classes */
  .card-glass {
    @apply bg-black/30 backdrop-blur-md border-0 shadow-lg rounded-xl;
  }
  
  .input-minimal {
    @apply bg-black/20 border-0 rounded-md shadow-inner shadow-black/10 focus:ring-1 focus:ring-accent focus:ring-opacity-30 transition-all;
  }
  
  .badge-minimal {
    @apply bg-trading-accent1/10 text-trading-accent1 border-0 rounded-md px-2 py-1 text-xs font-medium;
  }
  
  .button-minimal {
    @apply bg-black/20 hover:bg-black/30 border-0 shadow-sm transition-all;
  }
  
  /* Neumorphic style */
  .neumorphic {
    @apply bg-black/30 border border-white/5 shadow-[5px_5px_10px_rgba(0,0,0,0.3),_-5px_-5px_10px_rgba(255,255,255,0.03)] rounded-xl;
  }
  
  /* Updated modern tab styles */
  .modern-tab {
    @apply px-4 py-2 rounded-md transition-all text-white/70 hover:text-white hover:bg-black/30;
  }
  
  .modern-tab-active {
    @apply bg-trading-accent1 text-white shadow-md;
  }
  
  /* Neo brutalism */
  .neo-brutalism {
    @apply bg-trading-accent1 rounded-md border-b-4 border-r-4 border-black shadow-[4px_4px_0px_rgba(0,0,0,1)];
  }
  
  /* Sleek form inputs */
  .sleek-input {
    @apply bg-black/20 border-white/5 rounded-lg px-4 py-3 focus:ring-1 focus:ring-trading-accent1/50 focus:bg-black/30 transition-all text-white placeholder:text-white/40;
  }
  
  .sleek-select {
    @apply bg-black/20 border-white/5 rounded-lg px-4 py-3 focus:ring-1 focus:ring-trading-accent1/50 appearance-none;
  }
  
  /* Tab panels */
  .tab-panel-minimal {
    @apply bg-black/10 backdrop-blur-sm border-0 rounded-lg shadow-sm p-4;
  }
  
  /* Updated confluence components */
  .confluence-tab {
    @apply px-3 py-1.5 text-sm h-8 rounded-md font-normal bg-transparent hover:bg-black/20 transition-all flex-shrink-0;
  }
  
  .confluence-tab-active {
    @apply bg-black/30 text-white shadow-inner;
  }
  
  .confluence-option {
    @apply bg-trading-accent1/10 hover:bg-trading-accent1/20 text-trading-accent1/90 py-1 px-2.5 rounded-md transition-colors cursor-pointer text-sm;
  }
  
  .confluence-selected {
    @apply bg-trading-accent1/30 text-trading-accent1 font-medium;
  }

  .confluence-list {
    @apply flex flex-col space-y-2 w-full;
  }
  
  /* Vertical confluence manager */
  .confluence-manager {
    @apply grid grid-cols-1 gap-4;
  }
  
  /* Updated modern form inputs */
  .modern-select {
    @apply bg-black/20 border-0 rounded-md focus:ring-1 focus:ring-accent focus:ring-opacity-30 transition-all shadow-inner shadow-black/10;
  }
  
  .modern-input {
    @apply bg-black/20 border-0 rounded-md focus:ring-1 focus:ring-accent focus:ring-opacity-30 transition-all shadow-inner shadow-black/10;
  }
  
  /* Updated minimal badge */
  .minimal-badge {
    @apply bg-trading-accent1/10 text-trading-accent1 border-0 shadow-sm px-2 py-1 rounded-md transition-all text-xs hover:bg-trading-accent1/20;
  }

  /* Dialog background override */
  [data-slot="dialog-content"] {
    background-color: #0A0A0B !important;
  }

  /* Dropdown menu background override */
  [data-slot="dropdown-menu-content"] {
    background-color: #0A0A0B !important;
  }
  [data-slot="popover"] {
    background-color: #0A0A0B !important;
  }
}

.trade-table-container {
  width: 100%;
  overflow-x: auto;
}

.trade-table {
  min-width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

.trade-table th,
.trade-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.trade-table th {
  font-weight: 500;
  color: hsl(var(--muted-foreground));
  font-size: 0.875rem;
}

/* Animations */
.animate-fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Modern form styles */
.input-wrapper {
  @apply relative;
}

.input-wrapper .input-icon {
  @apply absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground pointer-events-none;
}

/* Modern Tabs */
.modern-tabs {
  @apply bg-transparent border-0;
}

.modern-tab {
  @apply rounded-md bg-transparent hover:bg-black/20 transition-colors data-[state=active]:bg-trading-accent1 data-[state=active]:text-white;
}

/* Modern Filter Panel */
.filter-panel {
  @apply bg-black/20 backdrop-blur-md rounded-xl shadow-sm border-0 p-4;
}

/* Glass effect */
.glass-effect {
  @apply bg-black/20 backdrop-blur-md border-0 shadow-md rounded-xl;
}

/* Glow effects */
.glow-text {
  text-shadow: 0 0 10px rgba(139, 92, 246, 0.7);
}

.glow-border {
  box-shadow: 0 0 15px rgba(139, 92, 246, 0.4);
}

/* 3D effect buttons */
.button-3d {
  @apply relative bg-trading-accent1 px-4 py-2 rounded-lg text-white font-medium transition-all;
  transform-style: preserve-3d;
  transform: perspective(1000px);
}

.button-3d::before {
  @apply absolute inset-0 rounded-lg opacity-0 transition-opacity;
  content: '';
  background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);
}

.button-3d:hover {
  transform: perspective(1000px) translateZ(10px);
}

.button-3d:hover::before {
  opacity: 1;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(51, 51, 51, 0.7); /* Dark grey scrollbar thumb */
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(85, 85, 85, 0.9); /* Slightly lighter on hover */
}

/* Direction buttons */
.direction-button-long {
  @apply bg-[#00a86b]/20 border-[#00a86b]/30 hover:bg-[#00a86b]/30;
}

.direction-button-short {
  @apply bg-[#ea384c]/20 border-[#ea384c]/30 hover:bg-[#ea384c]/30;
}

/* Hide scrollbar for Chrome, Safari and Opera */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* Safe area padding for mobile devices */
.safe-area-padding-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Sparkle Button Styles */
.sparkle-button {
  position: relative;
}

.sparkle-button button {
  --cut: 0.1em;
  --active: 0;
  --bg:
    radial-gradient(
      40% 50% at center 100%,
      hsl(270 calc(var(--active) * 97%) 72% / var(--active)),
      transparent
    ),
    radial-gradient(
      80% 100% at center 120%,
      hsl(260 calc(var(--active) * 97%) 70% / var(--active)),
      transparent
    ),
    hsl(260 calc(var(--active) * 97%) calc((var(--active) * 44%) + 12%));
  background: var(--bg);
  font-size: 1.125rem;
  font-weight: 500;
  border: 0;
  cursor: pointer;
  padding: 1.1em 1.5em;
  display: flex;
  align-items: center;
  gap: 0.25em;
  white-space: nowrap;
  border-radius: 100px;
  position: relative;
  box-shadow:
    0 0 calc(var(--active) * 6em) calc(var(--active) * 3em) hsl(260 97% 61% / 0.75),
    0 0.05em 0 0 hsl(260 calc(var(--active) * 97%) calc((var(--active) * 50%) + 30%)) inset,
    0 -0.05em 0 0 hsl(260 calc(var(--active) * 97%) calc(var(--active) * 60%)) inset;
  transition: box-shadow 0.25s, scale 0.25s, background 0.25s;
  scale: calc(1 + (var(--active) * 0.1));
}

.sparkle-button button:active {
  scale: 1;
}

.sparkle-button svg {
  overflow: visible !important;
}

.sparkle-button .sparkle path {
  color: hsl(0 0% calc((var(--active, 0) * 70%) + var(--base)));
  transform-box: fill-box;
  transform-origin: center;
  fill: currentColor;
  stroke: currentColor;
  animation-delay: calc((0.25s * 1.5) + (var(--delay) * 1s));
  animation-duration: 0.6s;
  transition: color 0.25s;
}

.sparkle-button button:is(:hover, :focus-visible) path {
  animation-name: bounce;
}

@keyframes bounce {
  35%, 65% {
    scale: var(--scale);
  }
}

.sparkle-button .sparkle path:nth-of-type(1) {
  --scale: 0.5;
  --delay: 0.1;
  --base: 40%;
}

.sparkle-button .sparkle path:nth-of-type(2) {
  --scale: 1.5;
  --delay: 0.2;
  --base: 20%;
}

.sparkle-button .sparkle path:nth-of-type(3) {
  --scale: 2.5;
  --delay: 0.35;
  --base: 30%;
}

.sparkle-button button:before {
  content: "";
  position: absolute;
  inset: -0.25em;
  z-index: -1;
  border: 0.25em solid hsl(260 97% 50% / 0.5);
  border-radius: 100px;
  opacity: var(--active, 0);
  transition: opacity 0.25s;
}

.sparkle-button .spark {
  position: absolute;
  inset: 0;
  border-radius: 100px;
  rotate: 0deg;
  overflow: hidden;
  mask: linear-gradient(white, transparent 50%);
  animation: flip 3.6s infinite steps(2, end);
}

@keyframes flip {
  to {
    rotate: 360deg;
  }
}

.sparkle-button .spark:before {
  content: "";
  position: absolute;
  width: 200%;
  aspect-ratio: 1;
  top: 0%;
  left: 50%;
  z-index: -1;
  translate: -50% -15%;
  rotate: 0;
  transform: rotate(-90deg);
  opacity: calc((var(--active)) + 0.4);
  background: conic-gradient(
    from 0deg,
    transparent 0 340deg,
    white 360deg
  );
  transition: opacity 0.25s;
  animation: rotate 1.8s linear infinite both;
}

.sparkle-button .spark:after {
  content: "";
  position: absolute;
  inset: var(--cut);
  border-radius: 100px;
}

.sparkle-button .backdrop {
  position: absolute;
  inset: var(--cut);
  background: var(--bg);
  border-radius: 100px;
  transition: background 0.25s;
}

@keyframes rotate {
  to {
    transform: rotate(90deg);
  }
}

.sparkle-button button:is(:hover, :focus-visible) {
  --active: 1;
  --play-state: running;
}

.sparkle-button .particle-pen {
  position: absolute;
  width: 200%;
  aspect-ratio: 1;
  top: 50%;
  left: 50%;
  translate: -50% -50%;
  -webkit-mask: radial-gradient(white, transparent 65%);
  z-index: -1;
  opacity: var(--active, 0);
  transition: opacity 0.25s;
}

.sparkle-button .particle {
  fill: white;
  width: calc(var(--size, 0.25) * 1rem);
  aspect-ratio: 1;
  position: absolute;
  top: calc(var(--y) * 1%);
  left: calc(var(--x) * 1%);
  opacity: var(--alpha, 1);
  animation: float-out calc(var(--duration, 1) * 1s) calc(var(--delay) * -1s) infinite linear;
  transform-origin: var(--origin-x, 1000%) var(--origin-y, 1000%);
  z-index: -1;
  animation-play-state: var(--play-state, paused);
}

.sparkle-button .particle path {
  fill: hsl(0 0% 90%);
  stroke: none;
}

.sparkle-button .particle:nth-of-type(even) {
  animation-direction: reverse;
}

@keyframes float-out {
  to {
    rotate: 360deg;
  }
}

.sparkle-button .text {
  translate: 2% -6%;
  letter-spacing: 0.01ch;
  font-size: 0.895rem;
  background: linear-gradient(90deg, hsl(0 0% calc((var(--active) * 100%) + 65%)), hsl(0 0% calc((var(--active) * 100%) + 26%)));
  -webkit-background-clip: text;
  color: transparent;
  transition: background 0.25s;
}

.sparkle-button button svg {
  inline-size: 1.25em;
  translate: -25% -5%;
}

.sparkle-button button:is(:hover, :focus-visible) ~ .particle-pen {
  --active: 1;
  --play-state: running;
}
